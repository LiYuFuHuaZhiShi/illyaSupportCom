(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-691c0196"],{"10ee":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"添加新的CV信息",visible:t.dialog_AddCV},on:{"update:visible":function(e){t.dialog_AddCV=e}}},[a("el-row",{staticClass:"rowbtom"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":t.upLoad,"show-file-list":!1,multiple:""}},[t.newcv_head_load?a("img",{staticClass:"avatar",attrs:{src:t.newcv_head_load}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-row",{staticClass:"rowbtom"},[a("el-input",{attrs:{placeholder:"人名"},model:{value:t.newcv_name,callback:function(e){t.newcv_name=e},expression:"newcv_name"}},[a("template",{slot:"prepend"},[t._v("人名")])],2)],1),a("el-button",{attrs:{type:""},on:{click:function(e){return t.AddCv()}}},[t._v("确定")]),t._v(" "+t._s(t.newcv_head)+" - "+t._s(t.newcv_name)+" ")],1),a("el-dialog",{attrs:{title:"编辑CV信息",visible:t.dialog_EditCV},on:{"update:visible":function(e){t.dialog_EditCV=e}}},[a("el-row",{staticClass:"rowbtom"},[t._v(" "+t._s(t.edit_cvid)+" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":t.upLoad,"show-file-list":!1,multiple:""}},[t.newcv_head_load?a("img",{staticClass:"avatar",attrs:{src:t.newcv_head_load}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-row",{staticClass:"rowbtom"},[a("el-input",{attrs:{placeholder:"人名"},model:{value:t.edti_cvname,callback:function(e){t.edti_cvname=e},expression:"edti_cvname"}},[a("template",{slot:"prepend"},[t._v("人名")])],2)],1),a("el-button",{attrs:{type:""},on:{click:function(e){return t.EditCv_Send()}}},[t._v("确定")]),t._v(" "+t._s(t.newcv_head)+" - "+t._s(t.edti_cvname)+" ")],1),a("el-row",{staticClass:"common rwoh"},[a("el-input",{staticClass:"common elmr",staticStyle:{width:"300px"},attrs:{placeholder:"关键字"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("template",{slot:"prepend"},[t._v("搜索")])],2),a("el-radio-group",{staticClass:"common elmr",model:{value:t.sfilter,callback:function(e){t.sfilter=e},expression:"sfilter"}},[a("el-radio-button",{attrs:{label:"0"}},[t._v("正常")]),a("el-radio-button",{attrs:{label:"1"}},[t._v("全部")])],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[t._v("查询")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){t.dialog_AddCV=!0}}},[t._v("新增CV信息")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),a("el-table-column",{attrs:{prop:"head",label:"人像",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"50%",height:"auto"},attrs:{src:t.row.head}})]}}])}),a("el-table-column",{attrs:{prop:"people_name",label:"CV名"}}),a("el-table-column",{attrs:{label:"更多",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.EditCv(e.row.id,e.row.filename,e.row.people_name)}}},[t._v("编辑")]),a("el-button",{on:{click:function(a){return t.DelCv(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},o=[],l={name:"cvlist",data:function(){return{tableData:[],sfilter:0,keyword:"",newcv_name:"",newcv_head:"",dialog_AddCV:!1,dialog_EditCV:!1,newcv_head_load:"",edit_cvid:"",edti_cvname:""}},methods:{DelCv:function(t){var e=this;this.$http.cvDel({id:t}).then((function(t){200==t.code&&e.getList()})).catch((function(t){console.log("error",t)}))},EditCv:function(t,e,a){this.edit_cvid=t,this.newcv_head=e,this.edti_cvname=a,this.dialog_EditCV=!0},EditCv_Send:function(){var t=this;this.$http.cvEdit({id:this.edit_cvid,people_name:this.edti_cvname,head:this.newcv_head}).then((function(e){200==e.code&&(t.getList(),t.edit_cvid="",t.newcv_head="",t.edti_cvname="",t.dialog_EditCV=!1)})).catch((function(t){console.log("error",t)}))},AddCv:function(){var t=this;this.$http.cvAdd({people_name:this.newcv_name,head:this.newcv_head}).then((function(e){200==e.code&&(t.getList(),t.dialog_AddCV=!1)})).catch((function(t){console.log("error",t)}))},getList:function(){var t=this;this.$http.cvList({sfilter:this.sfilter,keyword:this.keyword}).then((function(e){200==e.code&&(t.tableData=e.data)})).catch((function(t){console.log("error",t)}))},upLoad:function(t){var e=this,a=new FormData;a.append("file",t.file),a.append("uploadKey","cvhead"),console.log(t),this.$http.upload(a).then((function(t){console.log(t),console.log("上传成功"),200===t.code&&(e.newcv_head=t.data.filename,e.newcv_head_load=t.data.lodpath)}))}},components:{},created:function(){this.getList()}},n=l,c=(a("55e0"),a("2877")),s=Object(c["a"])(n,i,o,!1,null,"1dccf8ca",null);e["default"]=s.exports},"192a":function(t,e,a){},"55e0":function(t,e,a){"use strict";var i=a("192a"),o=a.n(i);o.a}}]);
//# sourceMappingURL=chunk-691c0196.8e63bf61.js.map